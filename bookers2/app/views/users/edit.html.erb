<main>
  
  <% if flash[:notice] %>
    <p class='notice'><%= flash[:notice]%></p>
  <% end %>

  <% if @user.errors.any? %>
      <div class='errorframe'>
         <h2>error...</h2>
        <ul>
          <% @user.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      </div>
  <% end %>

  <div class='container'>
    <div class='row'>
      <div class='col-sm-12 col-md-8 col-lg-5 px-5 px-sm-0 mx-auto'>
        <h2>User info</h2>

        <%= form_with model:@user, local:true do |f| %>
          <div class='form-group'>
            <p for='inputName'>Name</p>
            <%= f.text_field :name, autofocus: true, id:'inputName', placeholder:'名前' %>
          </div>
          <div class='form-group'>
            <p for='inputImage'>Image</p>
            <%= f.attachment_field :profile_image, placeholder:'プロフィール画像' %>
          </div>
          <div class='form-group'>
            <p for='inputIntroduction'>Introduction</p>
            <%= f.text_field :introduction, autofocus: true, id:'inputIntroduction', placeholder:'自己紹介' %>
          </div>
          <div class='form-group'>
            <%= f.submit 'Update User', class:'btn btn-secondary' %>
          </div>
        <% end %>

      </div>
    </div>
  </div>
</main>